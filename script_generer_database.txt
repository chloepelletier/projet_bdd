create database basketballer;
use basketballer;

/*Tables d'entités:
*/

CREATE TABLE saison (annee (int), PRIMARY KEY (annee));

CREATE TABLE equipe (num_equipe int, nom_equipe char(20), ville char(20), pays char(20), 
	fondation date, PRIMARY KEY(num_equipe));

CREATE TABLE test (num_equipe int);

CREATE TABLE joueur (num_equipe int, num_joueur int, prenom char(20),
	nom_joueur char(20), naissance date, taille_ft  real, poids_lbs real,
	role char(20), main_forte bool, dist_bras_ft real,
	PRIMARY KEY(num_equipe, num_joueur), FOREIGN KEY(num_equipe) REFERENCES equipe (num_equipe));
/*ON DELETE...
*/

CREATE TABLE type_partie (est_serie bool, PRIMARY KEY(est_serie))

CREATE TABLE partie (annee int, num_partie int, ville char(20), date_partie date,
	PRIMARY KEY(annee, num_partie), FOREIGN KEY(annee) REFERENCES saison(annee));
/*DF date_partie -> annee.
  Enlevé score
*/

CREATE TABLE partie_reguliere (annee int, num_partie int, ville char(20), date_partie date, est_serie bool, PRIMARY KEY(annee, num_partie), FOREIGN KEY(annee) REFERENCES saison(annee), FOREIGN KEY(est_serie) REFERENCES type_partie(est_serie))

CREATE TABLE partie_serie (annee int, num_partie int, num_sous_partie int, ville char(20), date_partie date, est_serie bool, PRIMARY KEY(annee, num_partie, num_sous_partie), FOREIGN KEY(annee) REFERENCES saison(annee), FOREIGN KEY(est_serie) REFERENCES type_partie(est_serie))

CREATE TABLE serie (num_serie int, PRIMARY KEY(num_serie))

CREATE TABLE action (instant time, PRIMARY KEY(instant))

CREATE TABLE lancer (instant time, type_lancer char(20), PRIMARY KEY(instant), FOREIGN KEY(instant) REFERENCES action)

CREATE TABLE panier (instant time, type_panier char(20), PRIMARY KEY(instant), FOREIGN KEY(instant) REFERENCES action)

CREATE TABLE revirement (instant time, type_revirement char(20), PRIMARY KEY(instant), FOREIGN KEY(instant) REFERENCES action)

CREATE TABLE faute (instant time, type_faute char(20), PRIMARY KEY(instant), FOREIGN KEY(instant) REFERENCES action)

CREATE TABLE rebond (instant time, type_rebond char(20), PRIMARY KEY(instant), FOREIGN KEY(instant) REFERENCES action)

/*Tests:
Supprimer equipe supprime le joueur? (sans cascade) NON
*/



